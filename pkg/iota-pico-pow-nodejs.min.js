!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("ffi")):"function"==typeof define&&define.amd?define("@iota-pico/pow-nodejs",["ffi"],e):"object"==typeof exports?exports["@iota-pico/pow-nodejs"]=e(require("ffi")):t.IotaPicoPowNodejs=e(t.ffi)}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,i;return e=t,i=[{key:"isEmpty",value:function(t){return null===t||void 0===t}},{key:"isObject",value:function(t){return null!==t&&void 0!==t&&("object"===n(t)&&!Array.isArray(t))}},{key:"isType",value:function(e,r){var n=t.getClassName(e);return void 0!==n&&n===t.getClassName(r)}},{key:"getClassName",value:function(t){if(null!==t&&void 0!==t){var e=("function"==typeof t?t.toString():t.constructor.toString()).match(/\w+/g);return e&&e.length>1?e[1]:void 0}}}],(r=null)&&o(e.prototype,r),i&&o(e,i),t}();e.ObjectHelper=i},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=r(7),a=r(3),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trytes=e}var e,r,u;return e=t,u=[{key:"fromString",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!i.StringHelper.isString(e))throw new a.DataError("The value must be a non empty string");if(!o.NumberHelper.isInteger(r)||r<0)throw new a.DataError("The length must be >= 0");if(!t.isValid(e,r))throw new a.DataError("The value and length do not contain valid trytes",{value:e,length:r});return new t(e)}},{key:"isValid",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!i.StringHelper.isString(t)&&new RegExp("^[9A-Z]{".concat(e||"0,","}$")).test(t)}}],(r=[{key:"toString",value:function(){return this._trytes}},{key:"length",value:function(){return this._trytes.length}},{key:"sub",value:function(e,r){if(!o.NumberHelper.isInteger(e)||e<0)throw new a.DataError("The start must be a number >= 0");if(!o.NumberHelper.isInteger(r)||e+r>this._trytes.length)throw new a.DataError("The start + length must <= ".concat(this._trytes.length));return t.fromString(this._trytes.substr(e,r))}}])&&n(e.prototype,r),u&&n(e,u),t}();u.ALPHABET="9ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.Trytes=u},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,o;return e=t,o=[{key:"isInteger",value:function(t){return Number.isInteger(t)&&!Number.isNaN(t)&&Number.isFinite(t)}},{key:"isNumber",value:function(t){return void 0!==t&&null!==t&&"number"==typeof t&&!Number.isNaN(t)&&Number.isFinite(t)}},{key:"isFloatString",value:function(t){return/^-?\d*\.?\d+$/.test(t)}},{key:"isIntegerString",value:function(t){return/^-?\d+$/.test(t)}}],(r=null)&&n(e.prototype,r),o&&n(e,o),t}();e.NumberHelper=o},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),a=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,n))).domain="Data",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CoreError),e}();e.DataError=a},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),a=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,n))).domain="Crypto",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CoreError),e}();e.CryptoError=a},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=r(3),a=r(1),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trytes=e}var e,r,u;return e=t,u=[{key:"fromTrytes",value:function(e){if(!o.ObjectHelper.isType(e,a.Trytes))throw new i.DataError("The hash should be a valid Trytes object");var r=e.length();if(r!==t.LENGTH)throw new i.DataError("The hash should be ".concat(t.LENGTH," characters in length"),{length:r});return new t(e)}}],(r=[{key:"toTrytes",value:function(){return this._trytes}},{key:"toString",value:function(){return this._trytes.toString()}}])&&n(e.prototype,r),u&&n(e,u),t}();u.LENGTH=81,u.EMPTY=u.fromTrytes(a.Trytes.fromString("9".repeat(u.LENGTH))),e.Hash=u},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}Object.defineProperty(e,"__esModule",{value:!0});var u=r(18),s=r(7),c=function(t){function e(t,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).additional=r||{},o.innerError=n,o.domain="Core",o}var r,c,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a(Error)),r=e,l=[{key:"isError",value:function(t){return void 0!==t&&null!==t&&"object"===n(t)&&"message"in t&&"additional"in t}}],(c=[{key:"format",value:function(){var t=this,e="";s.StringHelper.isEmpty(this.domain)||(e+="".concat(this.domain,": ")),s.StringHelper.isEmpty(this.message)||(e+="".concat(this.message));var r=Object.keys(this.additional);return r.length>0&&(e.length>0&&(e+="\n"),r.forEach(function(r){e+="\t".concat(r,": ").concat(u.JsonHelper.stringify(t.additional[r]),"\n")})),e}}])&&o(r.prototype,c),l&&o(r,l),e}();e.CoreError=c},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,o;return e=t,o=[{key:"isString",value:function(t){return null!==t&&void 0!==t&&"[object String]"===Object.prototype.toString.call(t)}},{key:"isEmpty",value:function(e){return!t.isString(e)||0===e.length}},{key:"isAscii",value:function(t){return null!==t&&void 0!==t&&/^[\x00-\xFF]*$/.test(t)}},{key:"encodeNonASCII",value:function(e){return t.isString(e)?e.replace(/[\u007F-\uFFFF]/g,function(t){return"\\u".concat("0000".concat(t.charCodeAt(0).toString(16)).substr(-4))}):void 0}},{key:"decodeNonASCII",value:function(e){return t.isString(e)?e.replace(/\\u([\d\w]{4})/gi,function(t,e){return String.fromCharCode(parseInt(e,16))}):void 0}}],(r=null)&&n(e.prototype,r),o&&n(e,o),t}();e.StringHelper=o},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,i;return e=t,i=[{key:"isArray",value:function(t){return null!==t&&void 0!==t&&Array.isArray(t)}},{key:"isEmpty",value:function(e){return!t.isArray(e)||0===e.length}},{key:"isTyped",value:function(e,r){return!t.isEmpty(e)&&!e.includes(void 0)&&!e.includes(null)&&e.every(function(t){return o.ObjectHelper.isType(t,r)})}}],(r=null)&&n(e.prototype,r),i&&n(e,i),t}();e.ArrayHelper=i},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=r(3),a=r(1),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trytes=e}var e,r,u;return e=t,u=[{key:"fromTrytes",value:function(e){if(!o.ObjectHelper.isType(e,a.Trytes))throw new i.DataError("The tag should be a valid Trytes object");var r=e.toString();if(r.length>t.LENGTH)throw new i.DataError("The tag should be at most ".concat(t.LENGTH," characters in length"),{length:r.length});for(;r.length<t.LENGTH;)r+="9";return new t(r)}}],(r=[{key:"toTrytes",value:function(){return a.Trytes.fromString(this._trytes)}},{key:"toString",value:function(){return this._trytes}}])&&n(e.prototype,r),u&&n(e,u),t}();u.LENGTH=27,u.EMPTY=u.fromTrytes(a.Trytes.fromString("9".repeat(u.LENGTH))),e.Tag=u},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=r(3),a=r(24),u=r(5),s=r(25),c=r(9),l=r(11),f=r(1),h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,h;return e=t,h=[{key:"fromParams",value:function(e,r,n,o,i,a,u,s,c,f,h,y,p,v,b){var m=new t;return m.signatureMessageFragment=e,m.address=r,m.value=l.TryteNumber.fromNumber(n,11),m.obsoleteTag=o,m.timestamp=l.TryteNumber.fromNumber(i),m.currentIndex=l.TryteNumber.fromNumber(a),m.lastIndex=l.TryteNumber.fromNumber(u),m.bundle=s,m.trunkTransaction=c,m.branchTransaction=f,m.tag=h,m.attachmentTimestamp=l.TryteNumber.fromNumber(y),m.attachmentTimestampLowerBound=l.TryteNumber.fromNumber(p),m.attachmentTimestampUpperBound=l.TryteNumber.fromNumber(v),m.nonce=b,m}},{key:"fromTrytes",value:function(e){if(!o.ObjectHelper.isType(e,f.Trytes))throw new i.DataError("The trytes should be a valid Trytes object");var r=e.length();if(r!==t.LENGTH)throw new i.DataError("The trytes must be ".concat(t.LENGTH," in length"),{length:r});var n=e.sub(2279,16).toString();if(n!==t.CHECK_VALUE)throw new i.DataError("The trytes between ".concat(2279," and ").concat(2295," should be all 9s"),{check:n});var h=new t,y=0;return h.signatureMessageFragment=s.SignatureMessageFragment.fromTrytes(e.sub(y,s.SignatureMessageFragment.LENGTH)),y+=s.SignatureMessageFragment.LENGTH,h.address=a.Address.fromTrytes(e.sub(y,a.Address.LENGTH)),y+=a.Address.LENGTH,h.value=l.TryteNumber.fromTrytes(e.sub(y,11),11),y+=11,y+=t.CHECK_VALUE_LENGTH,h.obsoleteTag=c.Tag.fromTrytes(e.sub(y,c.Tag.LENGTH)),y+=c.Tag.LENGTH,h.timestamp=l.TryteNumber.fromTrytes(e.sub(y,l.TryteNumber.LENGTH_9)),y+=l.TryteNumber.LENGTH_9,h.currentIndex=l.TryteNumber.fromTrytes(e.sub(y,l.TryteNumber.LENGTH_9)),y+=l.TryteNumber.LENGTH_9,h.lastIndex=l.TryteNumber.fromTrytes(e.sub(y,l.TryteNumber.LENGTH_9)),y+=l.TryteNumber.LENGTH_9,h.bundle=u.Hash.fromTrytes(e.sub(y,u.Hash.LENGTH)),y+=u.Hash.LENGTH,h.trunkTransaction=u.Hash.fromTrytes(e.sub(y,u.Hash.LENGTH)),y+=u.Hash.LENGTH,h.branchTransaction=u.Hash.fromTrytes(e.sub(y,u.Hash.LENGTH)),y+=u.Hash.LENGTH,h.tag=c.Tag.fromTrytes(e.sub(y,c.Tag.LENGTH)),y+=c.Tag.LENGTH,h.attachmentTimestamp=l.TryteNumber.fromTrytes(e.sub(y,l.TryteNumber.LENGTH_9)),y+=l.TryteNumber.LENGTH_9,h.attachmentTimestampLowerBound=l.TryteNumber.fromTrytes(e.sub(y,l.TryteNumber.LENGTH_9)),y+=l.TryteNumber.LENGTH_9,h.attachmentTimestampUpperBound=l.TryteNumber.fromTrytes(e.sub(y,l.TryteNumber.LENGTH_9)),y+=l.TryteNumber.LENGTH_9,h.nonce=c.Tag.fromTrytes(e.sub(y,c.Tag.LENGTH)),h}}],(r=[{key:"toTrytes",value:function(){if(!o.ObjectHelper.isType(this.signatureMessageFragment,s.SignatureMessageFragment))throw new i.DataError("The signatureMessageFragment must be set to create transaction trytes",{signatureMessageFragment:this.signatureMessageFragment});if(!o.ObjectHelper.isType(this.address,a.Address))throw new i.DataError("The address must be set to create transaction trytes",{address:this.address});if(!o.ObjectHelper.isType(this.obsoleteTag,c.Tag))throw new i.DataError("The obsoleteTag must be set to create transaction trytes",{obsoleteTag:this.obsoleteTag});if(!o.ObjectHelper.isType(this.bundle,u.Hash))throw new i.DataError("The bundle must be set to create transaction trytes",{bundle:this.bundle});if(!o.ObjectHelper.isType(this.trunkTransaction,u.Hash))throw new i.DataError("The trunkTransaction must be set to create transaction trytes",{trunkTransaction:this.trunkTransaction});if(!o.ObjectHelper.isType(this.branchTransaction,u.Hash))throw new i.DataError("The branchTransaction must be set to create transaction trytes",{branchTransaction:this.branchTransaction});if(!o.ObjectHelper.isType(this.nonce,c.Tag))throw new i.DataError("The nonce must be set to create transaction trytes",{nonce:this.nonce});var e=this.signatureMessageFragment.toTrytes().toString()+this.address.toTrytes().toString()+(this.value||t.EMPTY_11).toTrytes().toString()+t.CHECK_VALUE+this.obsoleteTag.toTrytes().toString()+(this.timestamp||l.TryteNumber.EMPTY_9).toTrytes().toString()+(this.currentIndex||l.TryteNumber.EMPTY_9).toTrytes().toString()+(this.lastIndex||l.TryteNumber.EMPTY_9).toTrytes().toString()+this.bundle.toTrytes().toString()+this.trunkTransaction.toTrytes().toString()+this.branchTransaction.toTrytes().toString()+(this.tag||this.obsoleteTag).toTrytes().toString()+(this.attachmentTimestamp||l.TryteNumber.EMPTY_9).toTrytes().toString()+(this.attachmentTimestampLowerBound||l.TryteNumber.EMPTY_9).toTrytes().toString()+(this.attachmentTimestampUpperBound||l.TryteNumber.EMPTY_9).toTrytes().toString()+this.nonce.toTrytes().toString(),r=e.length;if(r!==t.LENGTH)throw new i.DataError("The trytes must be ".concat(t.LENGTH," in length ").concat(r),{length:r});return f.Trytes.fromString(e)}},{key:"toString",value:function(){return'{\n\tsignatureMessageFragment: "'.concat((this.signatureMessageFragment||s.SignatureMessageFragment.EMPTY).toTrytes().toString(),'"\n\taddress: "').concat((this.address||a.Address.EMPTY).toTrytes().toString(),'"\n\tvalue: ').concat((this.value||t.EMPTY_11).toNumber(),'\n\tobsoleteTag: "').concat((this.obsoleteTag||c.Tag.EMPTY).toTrytes().toString(),'"\n\ttimestamp: ').concat((this.timestamp||l.TryteNumber.EMPTY_9).toNumber(),"\n\tcurrentIndex: ").concat((this.currentIndex||l.TryteNumber.EMPTY_9).toNumber(),"\n\tlastIndex: ").concat((this.lastIndex||l.TryteNumber.EMPTY_9).toNumber(),'\n\tbundle: "').concat((this.bundle||u.Hash.EMPTY).toTrytes().toString(),'"\n\ttrunkTransaction: "').concat((this.trunkTransaction||u.Hash.EMPTY).toTrytes().toString(),'"\n\tbranchTransaction: "').concat((this.branchTransaction||u.Hash.EMPTY).toTrytes().toString(),'"\n\ttag: "').concat((this.tag||this.obsoleteTag||c.Tag.EMPTY).toTrytes().toString(),'"\n\tattachmentTimestamp: ').concat((this.attachmentTimestamp||l.TryteNumber.EMPTY_9).toNumber(),"\n\tattachmentTimestampLowerBound: ").concat((this.attachmentTimestampLowerBound||l.TryteNumber.EMPTY_9).toNumber(),"\n\tattachmentTimestampUpperBound: ").concat((this.attachmentTimestampUpperBound||l.TryteNumber.EMPTY_9).toNumber(),'\n\tnonce: "').concat((this.nonce||c.Tag.EMPTY).toTrytes().toString(),'"\n}')}}])&&n(e.prototype,r),h&&n(e,h),t}();h.LENGTH=2673,h.CHECK_VALUE_LENGTH=16,h.CHECK_VALUE="9".repeat(h.CHECK_VALUE_LENGTH),h.EMPTY_11=l.TryteNumber.fromNumber(0,11),e.Transaction=h},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=r(0),a=r(3),u=r(12),s=r(1),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trytes=e}var e,r,c;return e=t,c=[{key:"fromNumber",value:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.LENGTH_9;if(!o.NumberHelper.isInteger(n)||n<=0)throw new a.DataError("The length should be a number > 0",{length:n});if(i.ObjectHelper.isEmpty(e))r="9".repeat(n);else{if(!o.NumberHelper.isInteger(e))throw new a.DataError("The value is not an integer",{value:e});for(var s=u.Trits.fromNumber(e).toNumberArray();s.length<3*n;)s.push(0);r=u.Trits.fromNumberArray(s).toTrytes().toString()}return new t(r)}},{key:"fromTrytes",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.LENGTH_9;if(!i.ObjectHelper.isType(e,s.Trytes))throw new a.DataError("The value should be a valid Trytes object");var n=e.toString();if(!o.NumberHelper.isInteger(r)||r<=0)throw new a.DataError("The length should be a number > 0",{length:r});if(n.length>r)throw new a.DataError("The value contains too many characters",{length:n.length});for(;n.length<r;)n+="9";return new t(n)}}],(r=[{key:"toTrytes",value:function(){return s.Trytes.fromString(this._trytes)}},{key:"toNumber",value:function(){return u.Trits.fromTrytes(s.Trytes.fromString(this._trytes)).toNumber()}},{key:"toString",value:function(){return this._trytes}},{key:"valueOf",value:function(){return this.toNumber()}}])&&n(e.prototype,r),c&&n(e,c),t}();c.LENGTH_9=9,c.EMPTY_9=c.fromNumber(0,c.LENGTH_9),e.TryteNumber=c},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=r(2),a=r(0),u=r(3),s=r(1),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trits=e}var e,r,c;return e=t,c=[{key:"fromArray",value:function(e){if(!a.ObjectHelper.isType(e,Int8Array))throw new u.DataError("The value does not contain valid trits");return new t(e)}},{key:"fromNumberArray",value:function(e){if(!o.ArrayHelper.isTyped(e,Number))throw new u.DataError("The value does not contain valid trits");return new t(new Int8Array(e))}},{key:"fromTrytes",value:function(e){if(!a.ObjectHelper.isType(e,s.Trytes))throw new u.DataError("The value should be a valid Trytes object");for(var r=e.toString(),n=new Int8Array(3*r.length),o=0;o<r.length;o++){var i=s.Trytes.ALPHABET.indexOf(r.charAt(o));n[3*o]=t.TRYTES_TRITS[i][0],n[3*o+1]=t.TRYTES_TRITS[i][1],n[3*o+2]=t.TRYTES_TRITS[i][2]}return new t(n)}},{key:"fromNumber",value:function(e){if(!i.NumberHelper.isInteger(e))throw new u.DataError("The value is not an integer");for(var r=[],n=e<0?-e:e;n>0;){var o=n%3;n=Math.floor(n/3),o>1&&(o=-1,n++),r[r.length]=o}if(e<0)for(var a=0;a<r.length;a++)r[a]=-r[a];return new t(new Int8Array(r))}},{key:"add",value:function(e,r){if(!a.ObjectHelper.isType(e,t))throw new u.DataError("The first should be a valid Trits object");if(!a.ObjectHelper.isType(r,t))throw new u.DataError("The seconds should be a valid Trits object");for(var n,o,i=new Int8Array(Math.max(e._trits.length,r._trits.length)),s=0,c=0;c<i.length;c++){n=c<e._trits.length?e._trits[c]:0,o=c<r._trits.length?r._trits[c]:0;var l=t.fullAdd(n,o,s);i[c]=l[0],s=l[1]}return t.fromArray(i)}},{key:"fullAdd",value:function(e,r,n){var o=t.sum(e,r),i=t.cons(e,r),a=t.cons(o,n),u=t.any(i,a),s=t.sum(o,n);return new Int8Array([s,u])}},{key:"sum",value:function(t,e){var r=t+e;switch(r){case 2:return-1;case-2:return 1;default:return r}}},{key:"cons",value:function(t,e){return t===e?t:0}},{key:"any",value:function(t,e){var r=t+e;return r>0?1:r<0?-1:0}}],(r=[{key:"toArray",value:function(){return this._trits}},{key:"toNumberArray",value:function(){return Array.from(this._trits)}},{key:"toTrytes",value:function(){for(var e="",r=0;r<this._trits.length;r+=3)for(var n=0;n<s.Trytes.ALPHABET.length;n++)if(t.TRYTES_TRITS[n][0]===this._trits[r]&&t.TRYTES_TRITS[n][1]===this._trits[r+1]&&t.TRYTES_TRITS[n][2]===this._trits[r+2]){e+=s.Trytes.ALPHABET.charAt(n);break}return s.Trytes.fromString(e)}},{key:"toNumber",value:function(){for(var t=0,e=this._trits.length-1;e>=0;e--)t=3*t+this._trits[e];return t}},{key:"length",value:function(){return this._trits.length}},{key:"sub",value:function(e,r){if(!i.NumberHelper.isInteger(e)||e<0)throw new u.DataError("The start must be a number >= 0");if(!i.NumberHelper.isInteger(r)||e+r>this._trits.length)throw new u.DataError("The start + length must <= ".concat(this._trits.length));return t.fromArray(this._trits.slice(e,e+r))}}])&&n(e.prototype,r),c&&n(e,c),t}();c.TRYTES_TRITS=[new Int8Array([0,0,0]),new Int8Array([1,0,0]),new Int8Array([-1,1,0]),new Int8Array([0,1,0]),new Int8Array([1,1,0]),new Int8Array([-1,-1,1]),new Int8Array([0,-1,1]),new Int8Array([1,-1,1]),new Int8Array([-1,0,1]),new Int8Array([0,0,1]),new Int8Array([1,0,1]),new Int8Array([-1,1,1]),new Int8Array([0,1,1]),new Int8Array([1,1,1]),new Int8Array([-1,-1,-1]),new Int8Array([0,-1,-1]),new Int8Array([1,-1,-1]),new Int8Array([-1,0,-1]),new Int8Array([0,0,-1]),new Int8Array([1,0,-1]),new Int8Array([-1,1,-1]),new Int8Array([0,1,-1]),new Int8Array([1,1,-1]),new Int8Array([-1,-1,0]),new Int8Array([0,-1,0]),new Int8Array([1,-1,0]),new Int8Array([-1,0,0])],e.Trits=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(14))},function(t,e,r){"use strict";var n,o=(n=r(15))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t,e){try{var r=i[t](e),a=r.value}catch(t){return void o(t)}r.done?n(a):Promise.resolve(a).then(u,s)}function u(t){a("next",t)}function s(t){a("throw",t)}u()})}}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:c(o,e,r)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(r):void 0}var l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var f=r(2),h=r(0),y=r(4),p=r(19),v=r(1),b=l(r(35)),m=l(r(36)),g=l(r(37)),d=l(r(38)),T=l(r(39)),w=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r)),h.ObjectHelper.isEmpty(t)?n._nodePlatform={pathResolve:d.resolve,pathJoin:d.join,platform:g.platform,lstat:m.lstat,loadLibrary:b.Library}:n._nodePlatform=t,n}var r,n,i,l,w;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,p.ProofOfWorkBase),r=e,(n=[{key:"initialize",value:(w=a(o.default.mark(function t(){var r,n,i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this);case 2:r=this._nodePlatform.pathJoin(d.join(__dirname,"../binaries/")),n=this._nodePlatform.platform(),i=this._nodePlatform.pathJoin(r,n,"libccurl"),t.t0=n,t.next="darwin"===t.t0?8:"win32"===t.t0?10:12;break;case 8:return i+=".dylib",t.abrupt("break",13);case 10:return i+=".dll",t.abrupt("break",13);case 12:i+=".so";case 13:return t.next=15,T.promisify(this._nodePlatform.lstat)(i);case 15:if(!t.sent.isFile()){t.next=20;break}this._library=this._nodePlatform.loadLibrary(i,{ccurl_pow:["string",["string","int"]]}),t.next=21;break;case 20:throw new y.CryptoError("Library files does not exist",{libFile:i});case 21:case"end":return t.stop()}},t,this)})),function(){return w.apply(this,arguments)})},{key:"singlePow",value:(l=a(o.default.mark(function t(e,r){var n=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,o){if(h.ObjectHelper.isEmpty(n._library))throw new y.CryptoError("Library not loaded, have you called initialize");if(!h.ObjectHelper.isType(e,v.Trytes))throw new y.CryptoError("The trytes must be an object of type Trytes");if(!f.NumberHelper.isInteger(r)||r<=0)throw new y.CryptoError("The minWeightMagnitude must be > 0");n._library.ccurl_pow.async(e.toString(),r,function(e,r){e?o(e):t(v.Trytes.fromString(r))})}));case 1:case"end":return t.stop()}},t,this)})),function(t,e){return l.apply(this,arguments)})}])&&u(r.prototype,n),i&&u(r,i),e}();e.ProofOfWorkNodeJs=w},function(t,e,r){t.exports=r(16)},function(t,e,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(17),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=T;var f="suspendedStart",h="suspendedYield",y="executing",p="completed",v={},b={};b[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==n&&o.call(g,a)&&(b=g);var d=H.prototype=_.prototype=Object.create(b);E.prototype=d.constructor=H,H.constructor=E,H[s]=E.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,H):(t.__proto__=H,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(d),t},l.awrap=function(t){return{__await:t}},N(S.prototype),S.prototype[u]=function(){return this},l.AsyncIterator=S,l.async=function(t,e,r,n){var o=new S(T(t,e,r,n));return l.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},N(d),d[s]="Generator",d[a]=function(){return this},d.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=j,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return u.type="throw",u.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function T(t,e,r,n){var o=e&&e.prototype instanceof _?e:_,i=Object.create(o.prototype),a=new A(n||[]);return i._invoke=function(t,e,r){var n=f;return function(o,i){if(n===y)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=k(a,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=y;var s=w(t,e,r);if("normal"===s.type){if(n=r.done?p:h,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=p,r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function w(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function _(){}function E(){}function H(){}function N(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(r,n){function i(){return new Promise(function(e,i){!function e(r,n,i,a){var u=w(t[r],t,n);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){s.value=t,i(s)},a)}a(u.arg)}(r,n,e,i)})}return e=e?e.then(i,i):i()}}function k(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,k(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=w(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,i;return e=t,i=[{key:"stringify",value:function(t,e,r){var o=[];return JSON.stringify(t,function(r,i){if("object"===n(i)&&null!==t&&void 0!==i){if(-1!==o.indexOf(i))return;o.push(i)}return e?e(r,i):i},r)}}],(r=null)&&o(e.prototype,r),i&&o(e,i),t}();e.JsonHelper=i},function(t,e,r){"use strict";var n,o=(n=r(20))&&n.__esModule?n:{default:n};function i(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t,e){try{var r=i[t](e),a=r.value}catch(t){return void o(t)}r.done?n(a):Promise.resolve(a).then(u,s)}function u(t){a("next",t)}function s(t){a("throw",t)}u()})}}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var u=r(8),s=r(2),c=r(0),l=r(23),f=r(5),h=r(9),y=r(10),p=r(11),v=r(1),b=r(4),m=r(26),g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._timeService=e||new l.TimeService}var e,r,n,g,d;return e=t,(r=[{key:"initialize",value:(d=i(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)})},{key:"pow",value:(g=i(o.default.mark(function e(r,n,i,a){var l,g,d,T,w,_,E;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.ObjectHelper.isType(r,f.Hash)){e.next=2;break}throw new b.CryptoError("The trunkTransaction must be an object of type Hash");case 2:if(c.ObjectHelper.isType(n,f.Hash)){e.next=4;break}throw new b.CryptoError("The branchTransaction must be an object of type Hash");case 4:if(u.ArrayHelper.isTyped(i,v.Trytes)){e.next=6;break}throw new b.CryptoError("The trytes must be an array of type Trytes");case 6:if(s.NumberHelper.isInteger(a)&&!(a<=0)){e.next=8;break}throw new b.CryptoError("The minWeightMagnitude must be > 0");case 8:l=[],d=0;case 10:if(!(d<i.length)){e.next=35;break}if((T=y.Transaction.fromTrytes(i[d])).attachmentTimestamp=p.TryteNumber.fromNumber(this._timeService.msSinceEpoch()),T.attachmentTimestampLowerBound=p.TryteNumber.fromNumber(0),T.attachmentTimestampUpperBound=p.TryteNumber.fromNumber(t.MAX_TIMESTAMP_VALUE),!c.ObjectHelper.isEmpty(g)){e.next=22;break}if(T.lastIndex.toNumber()===T.currentIndex.toNumber()){e.next=18;break}throw new b.CryptoError("Wrong bundle order. The bundle should be ordered in descending order from currentIndex");case 18:T.trunkTransaction=r,T.branchTransaction=n,e.next=24;break;case 22:T.trunkTransaction=g,T.branchTransaction=r;case 24:return w=T.toTrytes(),e.next=27,this.singlePow(w,a);case 27:_=e.sent,T.nonce=h.Tag.fromTrytes(_.sub(y.Transaction.LENGTH-h.Tag.LENGTH,h.Tag.LENGTH)),E=y.Transaction.fromTrytes(_),g=m.TransactionHelper.hash(E),l.push(E);case 32:d++,e.next=10;break;case 35:return e.abrupt("return",l.reverse().map(function(t){return t.toTrytes()}));case 36:case"end":return e.stop()}},e,this)})),function(t,e,r,n){return g.apply(this,arguments)})}])&&a(e.prototype,r),n&&a(e,n),t}();g.MAX_TIMESTAMP_VALUE=(Math.pow(3,27)-1)/2,e.ProofOfWorkBase=g},function(t,e,r){t.exports=r(21)},function(t,e,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(22),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=T;var f="suspendedStart",h="suspendedYield",y="executing",p="completed",v={},b={};b[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==n&&o.call(g,a)&&(b=g);var d=H.prototype=_.prototype=Object.create(b);E.prototype=d.constructor=H,H.constructor=E,H[s]=E.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,H):(t.__proto__=H,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(d),t},l.awrap=function(t){return{__await:t}},N(S.prototype),S.prototype[u]=function(){return this},l.AsyncIterator=S,l.async=function(t,e,r,n){var o=new S(T(t,e,r,n));return l.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},N(d),d[s]="Generator",d[a]=function(){return this},d.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=j,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return u.type="throw",u.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function T(t,e,r,n){var o=e&&e.prototype instanceof _?e:_,i=Object.create(o.prototype),a=new A(n||[]);return i._invoke=function(t,e,r){var n=f;return function(o,i){if(n===y)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=k(a,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=y;var s=w(t,e,r);if("normal"===s.type){if(n=r.done?p:h,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=p,r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function w(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function _(){}function E(){}function H(){}function N(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(r,n){function i(){return new Promise(function(e,i){!function e(r,n,i,a){var u=w(t[r],t,n);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){s.value=t,i(s)},a)}a(u.arg)}(r,n,e,i)})}return e=e?e.then(i,i):i()}}function k(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,k(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=w(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,o;return e=t,(r=[{key:"msSinceEpoch",value:function(){return Date.now()}}])&&n(e.prototype,r),o&&n(e,o),t}();e.TimeService=o},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=r(3),a=r(1),u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._addressTrytes=e,this._checksumTrytes=r}var e,r,u;return e=t,u=[{key:"fromTrytes",value:function(e){if(!o.ObjectHelper.isType(e,a.Trytes))throw new i.DataError("The address should be a valid Trytes object");var r=e.toString();if(r.length!==t.LENGTH&&r.length!==t.LENGTH_WITH_CHECKSUM)throw new i.DataError("The address should either be ".concat(t.LENGTH," or ").concat(t.LENGTH_WITH_CHECKSUM," characters in length"),{length:r.length});var n,u=r.substr(0,t.LENGTH);return r.length===t.LENGTH_WITH_CHECKSUM&&(n=r.substr(t.LENGTH)),new t(u,n)}}],(r=[{key:"toTrytes",value:function(){return a.Trytes.fromString(this._addressTrytes)}},{key:"toTrytesWithChecksum",value:function(){if(o.ObjectHelper.isEmpty(this._checksumTrytes))throw new i.DataError("This address has no checksum calculated for it");return a.Trytes.fromString(this._addressTrytes+this._checksumTrytes)}},{key:"toString",value:function(){return o.ObjectHelper.isEmpty(this._checksumTrytes)?this._addressTrytes:this._addressTrytes+this._checksumTrytes}}])&&n(e.prototype,r),u&&n(e,u),t}();u.LENGTH=81,u.LENGTH_CHECKSUM=9,u.LENGTH_WITH_CHECKSUM=u.LENGTH+u.LENGTH_CHECKSUM,u.EMPTY=u.fromTrytes(a.Trytes.fromString("9".repeat(u.LENGTH))),e.Address=u},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=r(3),a=r(1),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trytes=e}var e,r,u;return e=t,u=[{key:"fromTrytes",value:function(e){if(!o.ObjectHelper.isType(e,a.Trytes))throw new i.DataError("The signatureMessageFragment should be a valid Trytes object");var r=e.length();if(r!==t.LENGTH)throw new i.DataError("The signatureMessageFragment should be ".concat(t.LENGTH," characters in length"),{length:r});return new t(e)}}],(r=[{key:"toTrytes",value:function(){return this._trytes}},{key:"toString",value:function(){return this._trytes.toString()}}])&&n(e.prototype,r),u&&n(e,u),t}();u.LENGTH=2187,u.EMPTY=u.fromTrytes(a.Trytes.fromString("9".repeat(u.LENGTH))),e.SignatureMessageFragment=u},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=r(5),a=r(10),u=r(12),s=r(4),c=r(27),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,l;return e=t,l=[{key:"hash",value:function(t){if(!o.ObjectHelper.isType(t,a.Transaction))throw new s.CryptoError("The transaction must be of type Transaction");var e=c.SpongeFactory.instance().create("curl"),r=u.Trits.fromTrytes(t.toTrytes()).toArray();e.initialize(),e.absorb(r,0,r.length);var n=new Int8Array(e.getConstant("HASH_LENGTH"));return e.squeeze(n,0,n.length),i.Hash.fromTrytes(u.Trits.fromArray(n).toTrytes())}}],(r=null)&&n(e.prototype,r),l&&n(e,l),t}();e.TransactionHelper=l},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}Object.defineProperty(e,"__esModule",{value:!0});var a=r(28),u=r(29),s=r(30),c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}var r,n,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.FactoryBase),r=e,c=[{key:"instance",value:function(){return e._instance||(e._instance=new e,e._instance.register("curl",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return new(Function.prototype.bind.apply(u.Curl,[null].concat(e)))}),e._instance.register("kerl",function(){return new s.Kerl})),e._instance}}],(n=[{key:"getInstance",value:function(){return e.instance()}}])&&o(r.prototype,n),c&&o(r,c),e}();e.SpongeFactory=c},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._types={}}var e,r,o;return e=t,(r=[{key:"register",value:function(t,e){this.getInstance()._types[t]=e}},{key:"unregister",value:function(t){delete this.getInstance()._types[t]}},{key:"exists",value:function(t){return void 0!==this.getInstance()._types[t]}},{key:"create",value:function(t){var e=this.getInstance();if(e._types[t]){for(var r,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return(r=e._types)[t].apply(r,o)}}}])&&n(e.prototype,r),o&&n(e,o),t}();e.FactoryBase=o},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=r(0),a=r(4),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.NUMBER_OF_ROUNDS;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._numberOfRounds=e}var e,r,u;return e=t,(r=[{key:"getConstant",value:function(e){switch(e){case"NUMBER_OF_ROUNDS":return this._numberOfRounds;case"HASH_LENGTH":case"STATE_LENGTH":return t[e];default:throw new a.CryptoError("Unknown constant requested ".concat(e))}}},{key:"getState",value:function(){return this._state}},{key:"initialize",value:function(e){this._state=e||new Int8Array(t.STATE_LENGTH)}},{key:"reset",value:function(){this.initialize()}},{key:"absorb",value:function(e,r,n){if(!i.ObjectHelper.isType(e,Int8Array)||0===e.length)throw new a.CryptoError("Trits must be a non empty Int8Array");if(!o.NumberHelper.isInteger(r)||r<0)throw new a.CryptoError("Offset must be a number >= 0");if(!o.NumberHelper.isInteger(n)||n<0)throw new a.CryptoError("Length must be a number >= 0");if(n+r>e.length)throw new a.CryptoError("The offset + length is beyond the length of the trits");var u=r,s=n;do{for(var c=0,l=s<t.HASH_LENGTH?s:t.HASH_LENGTH;c<l;)this._state[c++]=e[u++];this.transform(),s-=t.HASH_LENGTH}while(s>0)}},{key:"squeeze",value:function(e,r,n){if(!i.ObjectHelper.isType(e,Int8Array)||0===e.length)throw new a.CryptoError("Trits must be a non empty Int8Array");if(!o.NumberHelper.isInteger(r)||r<0)throw new a.CryptoError("Offset must be a number >= 0");if(!o.NumberHelper.isInteger(n)||n<0)throw new a.CryptoError("Length must be a number >= 0");if(n+r>e.length)throw new a.CryptoError("The offset + length is beyond the length of the trits");var u=r,s=n;do{for(var c=0,l=s<t.HASH_LENGTH?n:t.HASH_LENGTH;c<l;)e[u++]=this._state[c++];this.transform(),s-=t.HASH_LENGTH}while(s>0)}},{key:"transform",value:function(){for(var e,r=0,n=0;n<this._numberOfRounds;n++){e=new Int8Array(this._state.slice());for(var o=0;o<t.STATE_LENGTH;o++)this._state[o]=t.TRUTH_TABLE[e[r]+(e[r+=r<365?364:-365]<<2)+5]}}}])&&n(e.prototype,r),u&&n(e,u),t}();u.HASH_LENGTH=243,u.NUMBER_OF_ROUNDS=81,u.STATE_LENGTH=3*u.HASH_LENGTH,u.TRUTH_TABLE=new Int8Array([1,0,-1,2,1,-1,0,2,-1,1,0]),e.Curl=u},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=r(0),a=r(31),u=r(4),s=r(32),c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._keccak=new a.Sha3(384,a.Sha3.KECCAK_PADDING,384)}var e,r,c;return e=t,(r=[{key:"getConstant",value:function(e){switch(e){case"HASH_LENGTH":case"BIT_HASH_LENGTH":case"BYTE_HASH_LENGTH":return t[e];default:throw new u.CryptoError("Unknown constant requested ".concat(e))}}},{key:"getState",value:function(){}},{key:"initialize",value:function(t){}},{key:"reset",value:function(){this._keccak.reset()}},{key:"absorb",value:function(e,r,n){if(!i.ObjectHelper.isType(e,Int8Array)||0===e.length)throw new u.CryptoError("Trits must be a non empty Int8Array");if(!o.NumberHelper.isInteger(r)||r<0)throw new u.CryptoError("Offset must be a number >= 0");if(!o.NumberHelper.isInteger(n)||n<0)throw new u.CryptoError("Length must be a number >= 0");if(n+r>e.length)throw new u.CryptoError("The offset + length is beyond the length of the trits");if(n%243!=0)throw new u.CryptoError("Length must be a multiple of ".concat(t.HASH_LENGTH),{length:n});var a=r,c=n;do{var l=e.slice(a,a+t.HASH_LENGTH);l[t.HASH_LENGTH-1]=0;var f=s.BigIntegerHelper.tritsToBigInteger(l,0,l.length),h=new ArrayBuffer(t.BYTE_HASH_LENGTH);s.BigIntegerHelper.bigIntegerToBytes(f,h,0),this._keccak.update(h),a+=t.HASH_LENGTH,c-=t.HASH_LENGTH}while(c>0)}},{key:"squeeze",value:function(e,r,n){if(!i.ObjectHelper.isType(e,Int8Array)||0===e.length)throw new u.CryptoError("Trits must be a non empty Int8Array");if(!o.NumberHelper.isInteger(r)||r<0)throw new u.CryptoError("Offset must be a number >= 0");if(!o.NumberHelper.isInteger(n)||n<0)throw new u.CryptoError("Length must be a number >= 0");if(n+r>e.length)throw new u.CryptoError("The offset + length is beyond the length of the trits");if(n%243!=0)throw new u.CryptoError("Length must be a multiple of ".concat(t.HASH_LENGTH),{length:n});var a=r,c=n;do{var l=this._keccak.digest(),f=s.BigIntegerHelper.bytesToBigInteger(l,0,t.BYTE_HASH_LENGTH),h=new Int8Array(t.HASH_LENGTH);s.BigIntegerHelper.bigIntegerToTrits(f,h,0,t.HASH_LENGTH),h[t.HASH_LENGTH-1]=0;for(var y=0;y<t.HASH_LENGTH;)e[a++]=h[y++];var p=new DataView(l);for(y=0;y<p.byteLength;y++)p.setUint8(y,255^p.getUint8(y));this._keccak.update(l),c-=t.HASH_LENGTH}while(c>0)}}])&&n(e.prototype,r),c&&n(e,c),t}();c.HASH_LENGTH=243,c.BIT_HASH_LENGTH=384,c.BYTE_HASH_LENGTH=c.BIT_HASH_LENGTH/8,e.Kerl=c},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=r(4),a=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._padding=r,this._outputBits=n,this._blockCount=1600-(e<<1)>>5,this._byteCount=this._blockCount<<2,this._outputBlocks=n>>5,this._extraBytes=(31&n)>>3,this.reset()}var e,r,a;return e=t,(r=[{key:"reset",value:function(){this._reset=!0,this._block=0,this._start=0,this._blocks=new Uint32Array(this._blockCount+1),this._state=new Uint32Array(50)}},{key:"update",value:function(e){if(!o.ObjectHelper.isType(e,ArrayBuffer))throw new i.CryptoError("Input is not of type ArrayBuffer");for(var r,n=new Uint8Array(e),a=n.length,u=0;u<a;){if(this._reset)for(this._reset=!1,this._blocks[0]=this._block,r=1;r<this._blockCount+1;++r)this._blocks[r]=0;for(r=this._start;u<a&&r<this._byteCount;++u)this._blocks[r>>2]|=n[u]<<t.SHIFT[3&r++];if(this._lastByteIndex=r,r>=this._byteCount){for(this._start=r-this._byteCount,this._block=this._blocks[this._blockCount],r=0;r<this._blockCount;++r)this._state[r]^=this._blocks[r];this.keccakPermutation(this._state),this._reset=!0}else this._start=r}}},{key:"digest",value:function(){this.finalize();var t,e=0,r=0,n=this._outputBits>>3;t=this._extraBytes?new ArrayBuffer(this._outputBlocks+1<<2):new ArrayBuffer(n);for(var o=new Uint32Array(t);r<this._outputBlocks;)for(e=0;e<this._blockCount&&r<this._outputBlocks;++e,++r)o[r]=this._state[e];return this._extraBytes&&(o[e]=this._state[e],t=t.slice(0,n)),this.reset(),t}},{key:"finalize",value:function(){var t=this._lastByteIndex;if(this._blocks[t>>2]|=this._padding[3&t],this._lastByteIndex===this._byteCount)for(this._blocks[0]=this._blocks[this._blockCount],t=1;t<this._blockCount+1;++t)this._blocks[t]=0;for(this._blocks[this._blockCount-1]|=2147483648,t=0;t<this._blockCount;++t)this._state[t]^=this._blocks[t];this.keccakPermutation(this._state)}},{key:"keccakPermutation",value:function(e){var r,n,o,i,a,u,s,c,l,f,h,y,p,v,b,m,g,d,T,w,_,E,H,N,S,k,O,L,A,j,I,P,C,x,M,G,B,R,D,F,U,q,Y,z,V,K,Z,J,W,X,$,Q,tt,et,rt,nt,ot,it,at,ut,st,ct,lt;for(o=0;o<48;o+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],u=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],r=(y=e[8]^e[18]^e[28]^e[38]^e[48])^(u<<1|s>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|u>>>31),e[0]^=r,e[1]^=n,e[10]^=r,e[11]^=n,e[20]^=r,e[21]^=n,e[30]^=r,e[31]^=n,e[40]^=r,e[41]^=n,r=i^(c<<1|l>>>31),n=a^(l<<1|c>>>31),e[2]^=r,e[3]^=n,e[12]^=r,e[13]^=n,e[22]^=r,e[23]^=n,e[32]^=r,e[33]^=n,e[42]^=r,e[43]^=n,r=u^(f<<1|h>>>31),n=s^(h<<1|f>>>31),e[4]^=r,e[5]^=n,e[14]^=r,e[15]^=n,e[24]^=r,e[25]^=n,e[34]^=r,e[35]^=n,e[44]^=r,e[45]^=n,r=c^(y<<1|p>>>31),n=l^(p<<1|y>>>31),e[6]^=r,e[7]^=n,e[16]^=r,e[17]^=n,e[26]^=r,e[27]^=n,e[36]^=r,e[37]^=n,e[46]^=r,e[47]^=n,r=f^(i<<1|a>>>31),n=h^(a<<1|i>>>31),e[8]^=r,e[9]^=n,e[18]^=r,e[19]^=n,e[28]^=r,e[29]^=n,e[38]^=r,e[39]^=n,e[48]^=r,e[49]^=n,v=e[0],b=e[1],K=e[11]<<4|e[10]>>>28,Z=e[10]<<4|e[11]>>>28,L=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,ut=e[31]<<9|e[30]>>>23,st=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,Y=e[41]<<18|e[40]>>>14,x=e[2]<<1|e[3]>>>31,M=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,W=e[23]<<10|e[22]>>>22,j=e[33]<<13|e[32]>>>19,I=e[32]<<13|e[33]>>>19,ct=e[42]<<2|e[43]>>>30,lt=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,rt=e[4]<<30|e[5]>>>2,G=e[14]<<6|e[15]>>>26,B=e[15]<<6|e[14]>>>26,d=e[25]<<11|e[24]>>>21,T=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,N=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,nt=e[17]<<23|e[16]>>>9,ot=e[16]<<23|e[17]>>>9,R=e[26]<<25|e[27]>>>7,D=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,tt=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,k=e[18]<<20|e[19]>>>12,O=e[19]<<20|e[18]>>>12,it=e[29]<<7|e[28]>>>25,at=e[28]<<7|e[29]>>>25,F=e[38]<<8|e[39]>>>24,U=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,H=e[49]<<14|e[48]>>>18,e[0]=v^~m&d,e[1]=b^~g&T,e[10]=N^~k&L,e[11]=S^~O&A,e[20]=x^~G&R,e[21]=M^~B&D,e[30]=z^~K&J,e[31]=V^~Z&W,e[40]=et^~nt&it,e[41]=rt^~ot&at,e[2]=m^~d&w,e[3]=g^~T&_,e[12]=k^~L&j,e[13]=O^~A&I,e[22]=G^~R&F,e[23]=B^~D&U,e[32]=K^~J&X,e[33]=Z^~W&$,e[42]=nt^~it&ut,e[43]=ot^~at&st,e[4]=d^~w&E,e[5]=T^~_&H,e[14]=L^~j&P,e[15]=A^~I&C,e[24]=R^~F&q,e[25]=D^~U&Y,e[34]=J^~X&Q,e[35]=W^~$&tt,e[44]=it^~ut&ct,e[45]=at^~st&lt,e[6]=w^~E&v,e[7]=_^~H&b,e[16]=j^~P&N,e[17]=I^~C&S,e[26]=F^~q&x,e[27]=U^~Y&M,e[36]=X^~Q&z,e[37]=$^~tt&V,e[46]=ut^~ct&et,e[47]=st^~lt&rt,e[8]=E^~v&m,e[9]=H^~b&g,e[18]=P^~N&k,e[19]=C^~S&O,e[28]=q^~x&G,e[29]=Y^~M&B,e[38]=Q^~z&K,e[39]=tt^~V&Z,e[48]=ct^~et&nt,e[49]=lt^~rt&ot,e[0]^=t.ROUND_CONSTANTS[o],e[1]^=t.ROUND_CONSTANTS[o+1]}}])&&n(e.prototype,r),a&&n(e,a),t}();a.KECCAK_PADDING=new Uint32Array([1,256,65536,16777216]),a.SHIFT=new Uint8Array([0,8,16,24]),a.ROUND_CONSTANTS=new Uint32Array([1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648]),e.Sha3=a},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),a=r(0),u=o(r(33)),s=r(4),c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,o;return e=t,o=[{key:"tritsToBigInteger",value:function(e,r,n){if(!a.ObjectHelper.isType(e,Int8Array)||0===e.length)throw new s.CryptoError("The trits must be a non empty Int8Array");if(!i.NumberHelper.isInteger(r)||r<0)throw new s.CryptoError("The offset must be a number >= 0");if(!i.NumberHelper.isInteger(n)||n<=0)throw new s.CryptoError("The length must be a number > 0");if(r+n>e.length)throw new s.CryptoError("The offset + length is beyond the length of the array");for(var o=u.default.zero,c=n-1;c>=0;c--)o=o.multiply(t.RADIX).add(u.default(e[r+c]));return o}},{key:"bigIntegerToTrits",value:function(e,r,n,o){if(!a.ObjectHelper.isType(e,u.default))throw new s.CryptoError("The value must be a bigInteger type");if(!a.ObjectHelper.isType(r,Int8Array))throw new s.CryptoError("The trits must be an Int8Array");if(!i.NumberHelper.isInteger(n)||n<0)throw new s.CryptoError("The offset must be a number >= 0");if(!i.NumberHelper.isInteger(o)||o<=0)throw new s.CryptoError("The length must be a number > 0");if(n+o>r.length)throw new s.CryptoError("The offset + length is beyond the length of the array");for(var c=e.compareTo(u.default.zero)<0?e.negate():e,l=0;l<o;l++){var f=c.divmod(t.RADIX);c=f.quotient;var h=f.remainder;h>t.MAX_TRIT_VALUE&&(h=t.MIN_TRIT_VALUE,c=c.add(u.default[1])),r[n+l]=h.toJSNumber()}if(e.compareTo(u.default.zero)<0)for(var y=0;y<o;y++)r[n+y]=0===r[n+y]?0:-r[n+y]}},{key:"bigIntegerToBytes",value:function(e,r,n){if(!a.ObjectHelper.isType(e,u.default))throw new s.CryptoError("The value must be a bigInteger type");if(!a.ObjectHelper.isType(r,ArrayBuffer)||0===r.byteLength)throw new s.CryptoError("The destination must be an array");if(!i.NumberHelper.isInteger(n)||n<0)throw new s.CryptoError("The offset must be a number >= 0");if(r.byteLength-n<t.BYTE_HASH_LENGTH)throw new s.CryptoError("Destination array has invalid size, it must be at least ".concat(t.BYTE_HASH_LENGTH));var o=e.isNegative()?-1:0,c=e.toString(16);-1===o&&(c=c.slice(1)),c.length%2==1&&(c="0".concat(c));var l=c.match(/[0-9a-f]{2}/g),f=new Int8Array(l.map(function(t){return parseInt("0x".concat(t),16)}));-1===o&&t.twosComplement(f);for(var h=new DataView(r),y=n;y+f.length<t.BYTE_HASH_LENGTH;)h.setInt8(y++,o);for(var p=f.length;p-- >0;)h.setInt8(y++,f[f.length-1-p])}},{key:"bytesToBigInteger",value:function(e,r,n){if(!a.ObjectHelper.isType(e,ArrayBuffer)||0===e.byteLength)throw new s.CryptoError("The source must be a non empty number array");if(!i.NumberHelper.isInteger(r)||r<0)throw new s.CryptoError("The offset must be a number >= 0");if(!i.NumberHelper.isInteger(n)||n<=0)throw new s.CryptoError("The length must be a number > 0");if(e.byteLength-r<t.BYTE_HASH_LENGTH)throw new s.CryptoError("Source array has invalid size, it must be at least ".concat(t.BYTE_HASH_LENGTH));for(var o=new DataView(e),c=new Int8Array(o.byteLength),l=0;l<o.byteLength;l++)c[l]=o.getInt8(l+r);var f=0,h=c[0],y=h<0;if(0===h||-1===h){for(;c[f]===h&&f<c.length-1;)f++;c=c.slice(f)}y&&t.twosComplement(c);for(var p=y?"-":"",v=new DataView(c.buffer),b=0;b<v.byteLength;b++)p+="00".concat(v.getUint8(b).toString(16)).slice(-2);return u.default(p,16)}},{key:"twosComplement",value:function(t){for(var e=0;e<t.length;e++)t[e]=~t[e];var r=t.length-1;do{t[r]++}while(0===t[r--]&&r>0)}}],(r=null)&&n(e.prototype,r),o&&n(e,o),t}();c.RADIX=u.default(3),c.MAX_TRIT_VALUE=c.RADIX.minus(1).divide(2),c.MIN_TRIT_VALUE=c.MAX_TRIT_VALUE.negate(),c.BIT_HASH_LENGTH=384,c.BYTE_HASH_LENGTH=c.BIT_HASH_LENGTH/8,e.BigIntegerHelper=c},function(t,e,r){(function(t){var r,n=function(t){"use strict";var e=1e7,r=7,o=9007199254740992,i=f(o),a=Math.log(o);function u(t,e){return void 0===t?u[0]:void 0!==e?10==+e?V(t):F(t,e):V(t)}function s(t,e){this.value=t,this.sign=e,this.isSmall=!1}function c(t){this.value=t,this.sign=t<0,this.isSmall=!0}function l(t){return-o<t&&t<o}function f(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function h(t){y(t);var r=t.length;if(r<4&&O(t,i)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function y(t){for(var e=t.length;0===t[--e];);t.length=e+1}function p(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function v(t){return t>0?Math.floor(t):Math.ceil(t)}function b(t,r){var n,o,i=t.length,a=r.length,u=new Array(i),s=0,c=e;for(o=0;o<a;o++)s=(n=t[o]+r[o]+s)>=c?1:0,u[o]=n-s*c;for(;o<i;)s=(n=t[o]+s)===c?1:0,u[o++]=n-s*c;return s>0&&u.push(s),u}function m(t,e){return t.length>=e.length?b(t,e):b(e,t)}function g(t,r){var n,o,i=t.length,a=new Array(i),u=e;for(o=0;o<i;o++)n=t[o]-u+r,r=Math.floor(n/u),a[o]=n-r*u,r+=1;for(;r>0;)a[o++]=r%u,r=Math.floor(r/u);return a}function d(t,r){var n,o,i=t.length,a=r.length,u=new Array(i),s=0,c=e;for(n=0;n<a;n++)(o=t[n]-s-r[n])<0?(o+=c,s=1):s=0,u[n]=o;for(n=a;n<i;n++){if(!((o=t[n]-s)<0)){u[n++]=o;break}o+=c,u[n]=o}for(;n<i;n++)u[n]=t[n];return y(u),u}function T(t,r,n){var o,i,a=t.length,u=new Array(a),l=-r,f=e;for(o=0;o<a;o++)i=t[o]+l,l=Math.floor(i/f),i%=f,u[o]=i<0?i+f:i;return"number"==typeof(u=h(u))?(n&&(u=-u),new c(u)):new s(u,n)}function w(t,r){var n,o,i,a,u=t.length,s=r.length,c=p(u+s),l=e;for(i=0;i<u;++i){a=t[i];for(var f=0;f<s;++f)n=a*r[f]+c[i+f],o=Math.floor(n/l),c[i+f]=n-o*l,c[i+f+1]+=o}return y(c),c}function _(t,r){var n,o,i=t.length,a=new Array(i),u=e,s=0;for(o=0;o<i;o++)n=t[o]*r+s,s=Math.floor(n/u),a[o]=n-s*u;for(;s>0;)a[o++]=s%u,s=Math.floor(s/u);return a}function E(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function H(t,r,n){return new s(t<e?_(r,t):w(r,f(t)),n)}function N(t){var r,n,o,i,a=t.length,u=p(a+a),s=e;for(o=0;o<a;o++){i=t[o];for(var c=0;c<a;c++)r=i*t[c]+u[o+c],n=Math.floor(r/s),u[o+c]=r-n*s,u[o+c+1]+=n}return y(u),u}function S(t,r){var n,o,i,a,u=t.length,s=p(u),c=e;for(i=0,n=u-1;n>=0;--n)i=(a=i*c+t[n])-(o=v(a/r))*r,s[n]=0|o;return[s,0|i]}function k(t,r){var n,o,i=V(r),a=t.value,l=i.value;if(0===l)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new c(v(a/l)),new c(a%l)]:[u[0],t];if(i.isSmall){if(1===l)return[t,u[0]];if(-1==l)return[t.negate(),u[0]];var b=Math.abs(l);if(b<e){o=h((n=S(a,b))[0]);var m=n[1];return t.sign&&(m=-m),"number"==typeof o?(t.sign!==i.sign&&(o=-o),[new c(o),new c(m)]):[new s(o,t.sign!==i.sign),new c(m)]}l=f(b)}var g=O(a,l);if(-1===g)return[u[0],t];if(0===g)return[u[t.sign===i.sign?1:-1],u[0]];o=(n=a.length+l.length<=200?function(t,r){var n,o,i,a,u,s,c,l=t.length,f=r.length,y=e,v=p(r.length),b=r[f-1],m=Math.ceil(y/(2*b)),g=_(t,m),d=_(r,m);for(g.length<=l&&g.push(0),d.push(0),b=d[f-1],o=l-f;o>=0;o--){for(n=y-1,g[o+f]!==b&&(n=Math.floor((g[o+f]*y+g[o+f-1])/b)),i=0,a=0,s=d.length,u=0;u<s;u++)i+=n*d[u],c=Math.floor(i/y),a+=g[o+u]-(i-c*y),i=c,a<0?(g[o+u]=a+y,a=-1):(g[o+u]=a,a=0);for(;0!==a;){for(n-=1,i=0,u=0;u<s;u++)(i+=g[o+u]-y+d[u])<0?(g[o+u]=i+y,i=0):(g[o+u]=i,i=1);a+=i}v[o]=n}return g=S(g,m)[0],[h(v),h(g)]}(a,l):function(t,r){for(var n,o,i,a,u,s=t.length,c=r.length,l=[],f=[],p=e;s;)if(f.unshift(t[--s]),y(f),O(f,r)<0)l.push(0);else{i=f[(o=f.length)-1]*p+f[o-2],a=r[c-1]*p+r[c-2],o>c&&(i=(i+1)*p),n=Math.ceil(i/a);do{if(O(u=_(r,n),f)<=0)break;n--}while(n);l.push(n),f=d(f,u)}return l.reverse(),[h(l),h(f)]}(a,l))[0];var T=t.sign!==i.sign,w=n[1],E=t.sign;return"number"==typeof o?(T&&(o=-o),o=new c(o)):o=new s(o,T),"number"==typeof w?(E&&(w=-w),w=new c(w)):w=new s(w,E),[o,w]}function O(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function L(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(25)||void 0))}s.prototype=Object.create(u.prototype),c.prototype=Object.create(u.prototype),s.prototype.add=function(t){var e=V(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new s(g(r,Math.abs(n)),this.sign):new s(m(r,n),this.sign)},s.prototype.plus=s.prototype.add,c.prototype.add=function(t){var e=V(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(l(r+n))return new c(r+n);n=f(Math.abs(n))}return new s(g(n,Math.abs(r)),r<0)},c.prototype.plus=c.prototype.add,s.prototype.subtract=function(t){var e=V(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?T(r,Math.abs(n),this.sign):function(t,e,r){var n;return O(t,e)>=0?n=d(t,e):(n=d(e,t),r=!r),"number"==typeof(n=h(n))?(r&&(n=-n),new c(n)):new s(n,r)}(r,n,this.sign)},s.prototype.minus=s.prototype.subtract,c.prototype.subtract=function(t){var e=V(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new c(r-n):T(n,Math.abs(r),r>=0)},c.prototype.minus=c.prototype.subtract,s.prototype.negate=function(){return new s(this.value,!this.sign)},c.prototype.negate=function(){var t=this.sign,e=new c(-this.value);return e.sign=!t,e},s.prototype.abs=function(){return new s(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},s.prototype.multiply=function(t){var r,n,o,i=V(t),a=this.value,c=i.value,l=this.sign!==i.sign;if(i.isSmall){if(0===c)return u[0];if(1===c)return this;if(-1===c)return this.negate();if((r=Math.abs(c))<e)return new s(_(a,r),l);c=f(r)}return n=a.length,o=c.length,new s(-.012*n-.012*o+15e-6*n*o>0?function t(e,r){var n=Math.max(e.length,r.length);if(n<=30)return w(e,r);n=Math.ceil(n/2);var o=e.slice(n),i=e.slice(0,n),a=r.slice(n),u=r.slice(0,n),s=t(i,u),c=t(o,a),l=m(m(s,E(d(d(t(m(i,o),m(u,a)),s),c),n)),E(c,2*n));return y(l),l}(a,c):w(a,c),l)},s.prototype.times=s.prototype.multiply,c.prototype._multiplyBySmall=function(t){return l(t.value*this.value)?new c(t.value*this.value):H(Math.abs(t.value),f(Math.abs(this.value)),this.sign!==t.sign)},s.prototype._multiplyBySmall=function(t){return 0===t.value?u[0]:1===t.value?this:-1===t.value?this.negate():H(Math.abs(t.value),this.value,this.sign!==t.sign)},c.prototype.multiply=function(t){return V(t)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,s.prototype.square=function(){return new s(N(this.value),!1)},c.prototype.square=function(){var t=this.value*this.value;return l(t)?new c(t):new s(N(f(Math.abs(this.value))),!1)},s.prototype.divmod=function(t){var e=k(this,t);return{quotient:e[0],remainder:e[1]}},c.prototype.divmod=s.prototype.divmod,s.prototype.divide=function(t){return k(this,t)[0]},c.prototype.over=c.prototype.divide=s.prototype.over=s.prototype.divide,s.prototype.mod=function(t){return k(this,t)[1]},c.prototype.remainder=c.prototype.mod=s.prototype.remainder=s.prototype.mod,s.prototype.pow=function(t){var e,r,n,o=V(t),i=this.value,a=o.value;if(0===a)return u[1];if(0===i)return u[0];if(1===i)return u[1];if(-1===i)return o.isEven()?u[1]:u[-1];if(o.sign)return u[0];if(!o.isSmall)throw new Error("The exponent "+o.toString()+" is too large.");if(this.isSmall&&l(e=Math.pow(i,a)))return new c(v(e));for(r=this,n=u[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},c.prototype.pow=s.prototype.pow,s.prototype.modPow=function(t,e){if(t=V(t),(e=V(e)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=u[1],n=this.mod(e);t.isPositive();){if(n.isZero())return u[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},c.prototype.modPow=s.prototype.modPow,s.prototype.compareAbs=function(t){var e=V(t),r=this.value,n=e.value;return e.isSmall?1:O(r,n)},c.prototype.compareAbs=function(t){var e=V(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},s.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=V(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:O(r,n)*(this.sign?-1:1)},s.prototype.compareTo=s.prototype.compare,c.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=V(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},c.prototype.compareTo=c.prototype.compare,s.prototype.equals=function(t){return 0===this.compare(t)},c.prototype.eq=c.prototype.equals=s.prototype.eq=s.prototype.equals,s.prototype.notEquals=function(t){return 0!==this.compare(t)},c.prototype.neq=c.prototype.notEquals=s.prototype.neq=s.prototype.notEquals,s.prototype.greater=function(t){return this.compare(t)>0},c.prototype.gt=c.prototype.greater=s.prototype.gt=s.prototype.greater,s.prototype.lesser=function(t){return this.compare(t)<0},c.prototype.lt=c.prototype.lesser=s.prototype.lt=s.prototype.lesser,s.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},c.prototype.geq=c.prototype.greaterOrEquals=s.prototype.geq=s.prototype.greaterOrEquals,s.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},c.prototype.leq=c.prototype.lesserOrEquals=s.prototype.leq=s.prototype.lesserOrEquals,s.prototype.isEven=function(){return 0==(1&this.value[0])},c.prototype.isEven=function(){return 0==(1&this.value)},s.prototype.isOdd=function(){return 1==(1&this.value[0])},c.prototype.isOdd=function(){return 1==(1&this.value)},s.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},s.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},s.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},s.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},s.prototype.isDivisibleBy=function(t){var e=V(t),r=e.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(e).equals(u[0])))},c.prototype.isDivisibleBy=s.prototype.isDivisibleBy,s.prototype.isPrime=function(){var t=L(this);if(void 0!==t)return t;for(var e,r,o,i,a=this.abs(),s=a.prev(),c=[2,3,5,7,11,13,17,19],l=s;l.isEven();)l=l.divide(2);for(o=0;o<c.length;o++)if(!(i=n(c[o]).modPow(l,a)).equals(u[1])&&!i.equals(s)){for(r=!0,e=l;r&&e.lesser(s);e=e.multiply(2))(i=i.square().mod(a)).equals(s)&&(r=!1);if(r)return!1}return!0},c.prototype.isPrime=s.prototype.isPrime,s.prototype.isProbablePrime=function(t){var e=L(this);if(void 0!==e)return e;for(var r=this.abs(),o=void 0===t?5:t,i=0;i<o;i++){if(!n.randBetween(2,r.minus(2)).modPow(r.prev(),r).isUnit())return!1}return!0},c.prototype.isProbablePrime=s.prototype.isProbablePrime,s.prototype.modInv=function(t){for(var e,r,o,i=n.zero,a=n.one,u=V(t),s=this.abs();!s.equals(n.zero);)e=u.divide(s),r=i,o=u,i=a,u=s,a=r.subtract(e.multiply(a)),s=o.subtract(e.multiply(s));if(!u.equals(1))throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(t)),this.isNegative()?i.negate():i},c.prototype.modInv=s.prototype.modInv,s.prototype.next=function(){var t=this.value;return this.sign?T(t,1,this.sign):new s(g(t,1),this.sign)},c.prototype.next=function(){var t=this.value;return t+1<o?new c(t+1):new s(i,!1)},s.prototype.prev=function(){var t=this.value;return this.sign?new s(g(t,1),!0):T(t,1,this.sign)},c.prototype.prev=function(){var t=this.value;return t-1>-o?new c(t-1):new s(i,!0)};for(var A=[1];2*A[A.length-1]<=e;)A.push(2*A[A.length-1]);var j=A.length,I=A[j-1];function P(t){return("number"==typeof t||"string"==typeof t)&&+Math.abs(t)<=e||t instanceof s&&t.value.length<=1}function C(t,e,r){e=V(e);for(var o=t.isNegative(),i=e.isNegative(),a=o?t.not():t,u=i?e.not():e,s=0,c=0,l=null,f=null,h=[];!a.isZero()||!u.isZero();)s=(l=k(a,I))[1].toJSNumber(),o&&(s=I-1-s),c=(f=k(u,I))[1].toJSNumber(),i&&(c=I-1-c),a=l[0],u=f[0],h.push(r(s,c));for(var y=0!==r(o?1:0,i?1:0)?n(-1):n(0),p=h.length-1;p>=0;p-=1)y=y.multiply(I).add(n(h[p]));return y}s.prototype.shiftLeft=function(t){if(!P(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftRight(-t);for(var e=this;t>=j;)e=e.multiply(I),t-=j-1;return e.multiply(A[t])},c.prototype.shiftLeft=s.prototype.shiftLeft,s.prototype.shiftRight=function(t){var e;if(!P(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftLeft(-t);for(var r=this;t>=j;){if(r.isZero())return r;r=(e=k(r,I))[1].isNegative()?e[0].prev():e[0],t-=j-1}return(e=k(r,A[t]))[1].isNegative()?e[0].prev():e[0]},c.prototype.shiftRight=s.prototype.shiftRight,s.prototype.not=function(){return this.negate().prev()},c.prototype.not=s.prototype.not,s.prototype.and=function(t){return C(this,t,function(t,e){return t&e})},c.prototype.and=s.prototype.and,s.prototype.or=function(t){return C(this,t,function(t,e){return t|e})},c.prototype.or=s.prototype.or,s.prototype.xor=function(t){return C(this,t,function(t,e){return t^e})},c.prototype.xor=s.prototype.xor;var x=1<<30,M=(e&-e)*(e&-e)|x;function G(t){var r=t.value,n="number"==typeof r?r|x:r[0]+r[1]*e|M;return n&-n}function B(t,e){return t=V(t),e=V(e),t.greater(e)?t:e}function R(t,e){return t=V(t),e=V(e),t.lesser(e)?t:e}function D(t,e){if(t=V(t).abs(),e=V(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,o=u[1];t.isEven()&&e.isEven();)r=Math.min(G(t),G(e)),t=t.divide(r),e=e.divide(r),o=o.multiply(r);for(;t.isEven();)t=t.divide(G(t));do{for(;e.isEven();)e=e.divide(G(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return o.isUnit()?t:t.multiply(o)}var F=function(t,e){for(var r=t.length,n=Math.abs(e),o=0;o<r;o++){if("-"!==(l=t[o].toLowerCase())&&/[a-z0-9]/.test(l)){if(/[0-9]/.test(l)&&+l>=n){if("1"===l&&1===n)continue;throw new Error(l+" is not a valid digit in base "+e+".")}if(l.charCodeAt(0)-87>=n)throw new Error(l+" is not a valid digit in base "+e+".")}}if(2<=e&&e<=36&&r<=a/Math.log(e)){var i=parseInt(t,e);if(isNaN(i))throw new Error(l+" is not a valid digit in base "+e+".");return new c(parseInt(t,e))}e=V(e);var u=[],s="-"===t[0];for(o=s?1:0;o<t.length;o++){var l,f=(l=t[o].toLowerCase()).charCodeAt(0);if(48<=f&&f<=57)u.push(V(l));else if(97<=f&&f<=122)u.push(V(l.charCodeAt(0)-87));else{if("<"!==l)throw new Error(l+" is not a valid character");var h=o;do{o++}while(">"!==t[o]);u.push(V(t.slice(h+1,o)))}}return U(u,e,s)};function U(t,e,r){var n,o=u[0],i=u[1];for(n=t.length-1;n>=0;n--)o=o.add(t[n].times(i)),i=i.times(e);return r?o.negate():o}function q(t){var e=t.value;return"number"==typeof e&&(e=[e]),1===e.length&&e[0]<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e[0]):"<"+e+">"}function Y(t,e){if((e=n(e)).isZero()){if(t.isZero())return"0";throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1))return t.isZero()?"0":t.isNegative()?new Array(1-t).join("10"):"1"+new Array(+t).join("01");var r="";if(t.isNegative()&&e.isPositive()&&(r="-",t=t.abs()),e.equals(1))return t.isZero()?"0":r+new Array(+t+1).join(1);for(var o,i=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){a=(o=a.divmod(e)).quotient;var u=o.remainder;u.isNegative()&&(u=e.minus(u).abs(),a=a.next()),i.push(q(u))}return i.push(q(a)),r+i.reverse().join("")}function z(t){if(l(+t)){var e=+t;if(e===v(e))return new c(e);throw"Invalid integer: "+t}var n="-"===t[0];n&&(t=t.slice(1));var o=t.split(/e/i);if(o.length>2)throw new Error("Invalid integer: "+o.join("e"));if(2===o.length){var i=o[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==v(i)||!l(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var a=o[0],u=a.indexOf(".");if(u>=0&&(i-=a.length-u-1,a=a.slice(0,u)+a.slice(u+1)),i<0)throw new Error("Cannot include negative exponent part for integers");t=a+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);for(var f=[],h=t.length,p=r,b=h-p;h>0;)f.push(+t.slice(b,h)),(b-=p)<0&&(b=0),h-=p;return y(f),new s(f,n)}function V(t){return"number"==typeof t?function(t){if(l(t)){if(t!==v(t))throw new Error(t+" is not an integer.");return new c(t)}return z(t.toString())}(t):"string"==typeof t?z(t):t}s.prototype.toString=function(t){if(void 0===t&&(t=10),10!==t)return Y(this,t);for(var e,r=this.value,n=r.length,o=String(r[--n]);--n>=0;)e=String(r[n]),o+="0000000".slice(e.length)+e;return(this.sign?"-":"")+o},c.prototype.toString=function(t){return void 0===t&&(t=10),10!=t?Y(this,t):String(this.value)},s.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},s.prototype.valueOf=function(){return+this.toString()},s.prototype.toJSNumber=s.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf;for(var K=0;K<1e3;K++)u[K]=new c(K),K>0&&(u[-K]=new c(-K));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=B,u.min=R,u.gcd=D,u.lcm=function(t,e){return t=V(t).abs(),e=V(e).abs(),t.divide(D(t,e)).multiply(e)},u.isInstance=function(t){return t instanceof s||t instanceof c},u.randBetween=function(t,r){var n=R(t=V(t),r=V(r)),o=B(t,r).subtract(n).add(1);if(o.isSmall)return n.add(Math.floor(Math.random()*o));for(var i=[],a=!0,u=o.value.length-1;u>=0;u--){var l=a?o.value[u]:e,f=v(Math.random()*l);i.unshift(f),f<l&&(a=!1)}return i=h(i),n.add("number"==typeof i?new c(i):new s(i,!1))},u.fromArray=function(t,e,r){return U(t.map(V),V(e||10),r)},u}();void 0!==t&&t.hasOwnProperty("exports")&&(t.exports=n),void 0===(r=function(){return n}.apply(e,[]))||(t.exports=r)}).call(e,r(34)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(e,r){e.exports=t},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("os")},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("util")}])});